import{_ as w,c as a,a as e,b as v,d as b,C as m,F as y,q as k,t as s,r as i,k as h,o as n}from"./admin-CtYMnxVR.js";import{a as L}from"./api-DccBIR6h.js";const C={name:"Leaderboard",setup(){const p=i(!1),t=i([]),u=i({current_page:1,last_page:1,per_page:50,total:0}),o=i({period:"all",sort_by:"wins_count",sort_order:"desc"}),f=i(50),c=async(l=1)=>{p.value=!0;try{const g=new URLSearchParams({page:l.toString(),per_page:f.value.toString(),period:o.value.period,sort_by:o.value.sort_by,sort_order:o.value.sort_order}),x=await L(`/wow/leaderboard?${g.toString()}`);if(x.ok){const _=await x.json();t.value=_.data||[],u.value=_.pagination||u.value}}catch(g){console.error("Error loading leaderboard:",g)}finally{p.value=!1}},r=l=>{c(l)},d=l=>["ü•á","ü•à","ü•â"][l]||"";return h(()=>{c()}),{loading:p,users:t,pagination:u,filters:o,perPage:f,fetchLeaderboard:c,loadPage:r,getMedal:d}}},P={class:"leaderboard-page space-y-6"},S={class:"bg-card rounded-lg border border-border p-6 space-y-4"},U={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},V={class:"bg-card rounded-lg border border-border overflow-hidden"},M={class:"overflow-x-auto"},j={class:"w-full"},B={class:"divide-y divide-border"},D={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold"},E={key:0,class:"text-2xl"},F={key:1},N={class:"px-6 py-4 whitespace-nowrap text-sm"},q={class:"px-6 py-4 whitespace-nowrap text-sm"},G={class:"px-6 py-4 whitespace-nowrap text-sm"},I={class:"px-6 py-4 whitespace-nowrap text-sm"},R={key:0},T={key:1},z={class:"px-6 py-4 whitespace-nowrap text-sm"},A={class:"px-6 py-4 whitespace-nowrap text-sm"},H={key:0,class:"px-6 py-4 border-t border-border flex items-center justify-between"},J={class:"text-sm text-muted-foreground"},K={class:"flex gap-2"},O=["disabled"],Q=["disabled"],W={key:0,class:"flex items-center justify-center py-12"};function X(p,t,u,o,f,c){return n(),a("div",P,[t[21]||(t[21]=e("div",null,[e("h1",{class:"text-3xl font-semibold text-foreground"},"–¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"),e("p",{class:"text-muted-foreground mt-1"},"–†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –≤—ã–∏–≥—Ä—ã—à–∞–º –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏")],-1)),e("div",S,[t[18]||(t[18]=e("h2",{class:"text-lg font-semibold mb-4"},"–§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞",-1)),e("div",U,[e("div",null,[t[11]||(t[11]=e("label",{class:"text-sm font-medium mb-1 block"},"–ü–µ—Ä–∏–æ–¥",-1)),b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.filters.period=r),onChange:t[1]||(t[1]=(...r)=>o.fetchLeaderboard&&o.fetchLeaderboard(...r)),class:"w-full h-10 px-4 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent"},[...t[10]||(t[10]=[e("option",{value:"all"},"–í—Å—ë –≤—Ä–µ–º—è",-1),e("option",{value:"week"},"–ù–µ–¥–µ–ª—è",-1),e("option",{value:"day"},"–î–µ–Ω—å",-1)])],544),[[m,o.filters.period]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"text-sm font-medium mb-1 block"},"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>o.filters.sort_by=r),onChange:t[3]||(t[3]=(...r)=>o.fetchLeaderboard&&o.fetchLeaderboard(...r)),class:"w-full h-10 px-4 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent"},[...t[12]||(t[12]=[e("option",{value:"wins_count"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∏–≥—Ä—ã—à–µ–π",-1),e("option",{value:"total_wins_amount"},"–°—É–º–º–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π",-1),e("option",{value:"spins_count"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∫—Ä—É—Ç–æ–≤",-1),e("option",{value:"invites_count"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö",-1)])],544),[[m,o.filters.sort_by]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"text-sm font-medium mb-1 block"},"–ü–æ—Ä—è–¥–æ–∫",-1)),b(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>o.filters.sort_order=r),onChange:t[5]||(t[5]=(...r)=>o.fetchLeaderboard&&o.fetchLeaderboard(...r)),class:"w-full h-10 px-4 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent"},[...t[14]||(t[14]=[e("option",{value:"desc"},"–ü–æ —É–±—ã–≤–∞–Ω–∏—é",-1),e("option",{value:"asc"},"–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é",-1)])],544),[[m,o.filters.sort_order]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"text-sm font-medium mb-1 block"},"–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ",-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.perPage=r),onChange:t[7]||(t[7]=(...r)=>o.fetchLeaderboard&&o.fetchLeaderboard(...r)),class:"w-full h-10 px-4 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-accent"},[...t[16]||(t[16]=[e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)])],544),[[m,o.perPage]])])])]),e("div",V,[e("div",M,[e("table",j,[t[19]||(t[19]=e("thead",{class:"bg-muted/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"–ú–µ—Å—Ç–æ"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Telegram ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"Username"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"–í—ã–∏–≥—Ä—ã—à–∏"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"–°—É–º–º–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"–ü—Ä–æ–∫—Ä—É—Ç—ã"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},"–ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö")])],-1)),e("tbody",B,[(n(!0),a(y,null,k(o.users,(r,d)=>(n(),a("tr",{key:r.id,class:"hover:bg-muted/30"},[e("td",D,[d<3?(n(),a("span",E,s(o.getMedal(d)),1)):(n(),a("span",F,s(d+1),1))]),e("td",N,s(r.telegram_id||"-"),1),e("td",q,s(r.username||"-"),1),e("td",G,s(r.wins_count||0),1),e("td",I,[r.total_wins_amount?(n(),a("span",R,s(r.total_wins_amount)+" ‚ÇΩ",1)):(n(),a("span",T,"-"))]),e("td",z,s(r.spins_count||0),1),e("td",A,s(r.invites_count||0),1)]))),128))])])]),o.pagination.last_page>1?(n(),a("div",H,[e("div",J," –ü–æ–∫–∞–∑–∞–Ω–æ "+s((o.pagination.current_page-1)*o.pagination.per_page+1)+" - "+s(Math.min(o.pagination.current_page*o.pagination.per_page,o.pagination.total))+" –∏–∑ "+s(o.pagination.total),1),e("div",K,[e("button",{onClick:t[8]||(t[8]=r=>o.loadPage(o.pagination.current_page-1)),disabled:o.pagination.current_page===1,class:"h-10 px-4 border border-border rounded-lg hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed"}," –ù–∞–∑–∞–¥ ",8,O),e("button",{onClick:t[9]||(t[9]=r=>o.loadPage(o.pagination.current_page+1)),disabled:o.pagination.current_page===o.pagination.last_page,class:"h-10 px-4 border border-border rounded-lg hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed"}," –í–ø–µ—Ä–µ–¥ ",8,Q)])])):v("",!0)]),o.loading?(n(),a("div",W,[...t[20]||(t[20]=[e("p",{class:"text-muted-foreground"},"–ó–∞–≥—Ä—É–∑–∫–∞ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞...",-1)])])):v("",!0)])}const $=w(C,[["render",X]]);export{$ as default};
