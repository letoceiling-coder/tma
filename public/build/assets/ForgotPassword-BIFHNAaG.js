import{_ as b,c as s,a as t,w as g,b as x,t as y,d as v,v as _,f as u,g as p,e as l,r as d,h as k,j as w,o as r}from"./admin-CtYMnxVR.js";const h={name:"ForgotPassword",setup(){const a=d(!1),e=d(""),n=d(!1),o=d({email:""});return{form:o,loading:a,error:e,success:n,handleSubmit:async()=>{a.value=!0,e.value="";try{await w.post("/api/auth/forgot-password",o.value),n.value=!0}catch(m){e.value=m.response?.data?.message||"Ошибка при отправке запроса"}a.value=!1}}}},S={class:"flex min-h-screen items-center justify-center bg-background px-4"},V={class:"w-full max-w-md space-y-6"},N={class:"rounded-lg border bg-card p-6 shadow-sm"},B={key:0},C={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-800 dark:text-red-200"},j=["disabled"],D={key:0},E={key:1},F={key:1,class:"mt-4 space-y-4 text-center"},M={class:"text-center text-sm text-muted-foreground"};function P(a,e,n,o,f,m){const c=k("router-link");return r(),s("div",S,[t("div",V,[e[7]||(e[7]=t("div",{class:"text-center"},[t("h1",{class:"text-3xl font-bold"},"Восстановление пароля"),t("p",{class:"text-muted-foreground mt-2"},"Введите ваш email для восстановления пароля")],-1)),t("div",N,[o.success?(r(),s("div",F,[e[4]||(e[4]=t("div",{class:"rounded-md bg-accent/10 dark:bg-accent/20 p-4"},[t("p",{class:"text-sm text-foreground"}," Ссылка для восстановления пароля будет отправлена на указанный email ")],-1)),u(c,{to:"/login",class:"block w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 transition-colors"},{default:p(()=>[...e[3]||(e[3]=[l(" Вернуться к входу ",-1)])]),_:1})])):(r(),s("div",B,[t("form",{onSubmit:e[1]||(e[1]=g((...i)=>o.handleSubmit&&o.handleSubmit(...i),["prevent"])),class:"space-y-4"},[o.error?(r(),s("div",C,y(o.error),1)):x("",!0),t("div",null,[e[2]||(e[2]=t("label",{for:"email",class:"block text-sm font-medium mb-2"},"Email",-1)),v(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>o.form.email=i),type:"email",required:"",class:"w-full rounded-md border bg-background px-3 py-2 text-sm transition-colors disabled:opacity-50 border-input focus:border-ring focus:ring-ring/20",placeholder:"your@email.com"},null,512),[[_,o.form.email]])]),t("button",{type:"submit",disabled:o.loading,class:"w-full rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed"},[o.loading?(r(),s("span",E,"Отправка...")):(r(),s("span",D,"Отправить ссылку"))],8,j)],32)]))]),t("p",M,[e[6]||(e[6]=l(" Вспомнили пароль? ",-1)),u(c,{to:"/login",class:"text-primary hover:underline"},{default:p(()=>[...e[5]||(e[5]=[l("Войти",-1)])]),_:1})])])])}const q=b(h,[["render",P]]);export{q as default};
